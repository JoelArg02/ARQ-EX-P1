# ๐ ARQUITECTURA DEL CLIENTE DE ESCRITORIO

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         CLIENTE DE ESCRITORIO JAVA                       โ
โ                     (Aplicaciรณn Swing con Patrรณn MVC)                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                              CAPA DE PRESENTACIรN                         โ
โ                                  (VIEWS)                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ                   โ
โ  โ LoginFrame   โ  โProductosFrameโ  โ CarritoFrame โ                   โ
โ  โ              โ  โ              โ  โ              โ                   โ
โ  โ - Correo     โ  โ - Grid       โ  โ - Tabla      โ                   โ
โ  โ - Contraseรฑa โ  โ - Cards      โ  โ - Totales    โ                   โ
โ  โ - Validaciรณn โ  โ - Badge      โ  โ - Botones    โ                   โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ                   โ
โ                                                                           โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ                                     โ
โ  โCheckoutFrame โ  โ VentasFrame  โ                                     โ
โ  โ              โ  โ              โ                                     โ
โ  โ - Mรฉtodos    โ  โ - Historial  โ                                     โ
โ  โ - Resumen    โ  โ - Detalles   โ                                     โ
โ  โ - Totales    โ  โ - Amortiz.   โ                                     โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ                                     โ
โ                                                                           โ
โ  Diseรฑo: Gradientes #7c3aed โ #667eea, FlatLaf Dark                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ โ
                        Interacciรณn Usuario / Actualizaciรณn UI
                                    โ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            CAPA DE CONTROL                                โ
โ                            (CONTROLLERS)                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโ    โ
โ  โ LoginController   โ  โProductosControllerโ  โCarritoController โ    โ
โ  โ                   โ  โ                   โ  โ                  โ    โ
โ  โ - iniciarSesion() โ  โ - cargarProductos()โ โ - eliminarItem() โ    โ
โ  โ                   โ  โ - agregarAlCarritoโ  โ - limpiarCarrito()โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโ  โ - validarStock()  โ  โ - irACheckout()  โ    โ
โ                         โ - irACarrito()    โ  โโโโโโโโโโโโโโโโโโโโ    โ
โ  โโโโโโโโโโโโโโโโโโโโโ  โ - irAVentas()     โ                          โ
โ  โCheckoutController โ  โ - cerrarSesion()  โ  โโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                   โ  โโโโโโโโโโโโโโโโโโโโโ  โVentasController  โ    โ
โ  โ - cambiarMetodoPago()โ                      โ                  โ    โ
โ  โ - confirmarCompra()โ                        โ - cargarVentas() โ    โ
โ  โ - solicitarCredito()โ                       โ - verDetalleVenta()โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโ                         โ - verTablaAmort()โ    โ
โ                                                 โโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                           โ
โ  Lรณgica de negocio, validaciones, orquestaciรณn de servicios             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ โ
                          Llamadas a Servicios / Respuestas
                                    โ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           CAPA DE SERVICIOS                               โ
โ                          (REST CLIENTS)                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ComercializadoraRestClient     โ  โ BanquitoRestClient           โ   โ
โ  โ                                โ  โ                              โ   โ
โ  โ - validarCredenciales()        โ  โ - solicitarCredito()         โ   โ
โ  โ - obtenerProductos()           โ  โ - obtenerCredito()           โ   โ
โ  โ - crearVenta()                 โ  โ - obtenerTablaAmortizacion() โ   โ
โ  โ - obtenerVentasPorCliente()    โ  โ                              โ   โ
โ  โ - obtenerDetalleVenta()        โ  โ Gson + HttpClient            โ   โ
โ  โ                                โ  โ BASE_URL: BanQuito API       โ   โ
โ  โ Gson + HttpClient              โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ BASE_URL: Comercializadora API โ                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                                     โ
โ                                                                           โ
โ  Consumo de APIs REST, serializaciรณn JSON, manejo de HTTP               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ โ
                            HTTP GET/POST Requests
                                    โ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          SERVIDORES REST (JAX-RS)                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ Ex_Comercializadora_RESTJava   โ  โ Ex_Banquito_RESTJava         โ   โ
โ  โ Port: 8080                     โ  โ Port: 8080                   โ   โ
โ  โ                                โ  โ                              โ   โ
โ  โ Endpoints:                     โ  โ Endpoints:                   โ   โ
โ  โ - POST /clientes/validar       โ  โ - POST /creditos             โ   โ
โ  โ - GET  /productos              โ  โ - GET  /creditos/{id}        โ   โ
โ  โ - POST /ventas                 โ  โ - GET  /creditos/{id}/amort  โ   โ
โ  โ - GET  /ventas/cliente/{id}    โ  โ                              โ   โ
โ  โ - GET  /ventas/{id}            โ  โ DB: banquito_db              โ   โ
โ  โ                                โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ DB: comercializadora_db        โ                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ โ
                              SQL Queries
                                    โ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          BASES DE DATOS MySQL                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ comercializadora_db            โ  โ banquito_db                  โ   โ
โ  โ                                โ  โ                              โ   โ
โ  โ Tablas:                        โ  โ Tablas:                      โ   โ
โ  โ - clientes                     โ  โ - creditos                   โ   โ
โ  โ - productos                    โ  โ - amortizaciones             โ   โ
โ  โ - ventas                       โ  โ                              โ   โ
โ  โ - detalles_venta               โ  โ Datos:                       โ   โ
โ  โ                                โ  โ - Solicitudes de crรฉdito     โ   โ
โ  โ Datos:                         โ  โ - Tablas de amortizaciรณn     โ   โ
โ  โ - Catรกlogo de productos        โ  โ - Estado (APROBADO/CANCEL.)  โ   โ
โ  โ - Clientes registrados         โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ - Historial de ventas          โ                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      COMPONENTES AUXILIARES                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ SessionManager     โ  โ UIConstants    โ  โ FormatUtils        โ    โ
โ  โ (Singleton)        โ  โ                โ  โ                    โ    โ
โ  โ                    โ  โ - Colores      โ  โ - formatCurrency() โ    โ
โ  โ - clienteAuth      โ  โ - Fuentes      โ  โ - formatDate()     โ    โ
โ  โ - carrito          โ  โ - Dimensiones  โ  โ - calcDescuento()  โ    โ
โ  โ - getTotalItems()  โ  โ - Gradientes   โ  โ - aplicarDesc()    โ    โ
โ  โ - getSubtotal()    โ  โ                โ  โ                    โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                           โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โ  โ MODELOS (DTOs)                                                  โ     โ
โ  โ                                                                  โ     โ
โ  โ ClienteDTO, ProductoDTO, ItemCarrito, VentaDTO,                โ     โ
โ  โ DetalleVentaDTO, CreditoDTO, AmortizacionDTO                   โ     โ
โ  โ                                                                  โ     โ
โ  โ POJOs con getters/setters, sin lรณgica de negocio               โ     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                        FLUJO DE DATOS TรPICO
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. Usuario interactรบa con VIEW (ej: hace clic en "Agregar a Factura")
2. VIEW llama al CONTROLLER correspondiente (ej: ProductosController.agregarAlCarrito())
3. CONTROLLER valida datos y aplica lรณgica de negocio
4. CONTROLLER llama a SERVICE (ej: ComercializadoraRestClient.obtenerProductos())
5. SERVICE hace HTTP request a SERVIDOR REST
6. SERVIDOR procesa request y consulta BASE DE DATOS
7. BASE DE DATOS retorna datos
8. SERVIDOR serializa respuesta como JSON
9. SERVICE deserializa JSON a DTO usando Gson
10. CONTROLLER recibe DTO y actualiza SessionManager si es necesario
11. CONTROLLER notifica a la VIEW
12. VIEW actualiza UI para reflejar cambios

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                        CARACTERรSTICAS CLAVE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ Patrรณn MVC estricto
โ Separaciรณn de responsabilidades
โ Comunicaciรณn REST con JSON
โ Manejo de sesiรณn stateful (SessionManager)
โ Validaciones en mรบltiples capas
โ Diseรฑo responsivo y moderno (FlatLaf)
โ Consistencia de datos con servidores
โ Mismo comportamiento que cliente web
โ Manejo robusto de errores
โ Look & Feel personalizado (Monsters Inc)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```
